<h1>
  {{ currentProduct._id ? 'Editar': 'Agregar' }}
  comic
  <small *ngIf="currentProduct">{{ currentProduct.titulo }}</small>
</h1>

<mat-divider class="mb-2"></mat-divider>

<div class="grid">

  <div class="col-12 sm:col-6">
    <mat-card>
      <mat-card-content>

        <form class="grid" [formGroup]="productForm" (ngSubmit)="onSubmit();">

          <mat-form-field class="col-12 sm:col-6">
            <mat-label>Título</mat-label>
            <input
              matInput
              type="text"
              required
              formControlName="titulo"
            />
          </mat-form-field>

          <mat-form-field class="col-12 sm:col-6">
            <mat-label>Editorial</mat-label>
            <input
              matInput
              type="text"
              required
              formControlName="editorial"
            />
          </mat-form-field>

          <mat-form-field class="col-12">
            <mat-label>Género</mat-label>
            <input
              matInput
              type="text"
              required
              formControlName="genero"
            />
          </mat-form-field>

          <mat-form-field class="col-12">
            <mat-label>Descripción</mat-label>
            <input
              matInput
              type="text"
              required
              formControlName="descripcion"
            />
          </mat-form-field>

          <mat-form-field class="col-12">
            <mat-label>ISBN</mat-label>
            <input
              matInput
              type="text"
              required
              formControlName="ISBN"
            />
          </mat-form-field>

          <mat-form-field class="col-6">
            <mat-label>Precio</mat-label>
            <input
              matInput
              type="number"
              required
              formControlName="precio"
            />
          </mat-form-field>

          <mat-form-field class="col-6">
            <mat-label>cantidad</mat-label>
            <input
              matInput
              type="number"
              required
              formControlName="cantidad"
            />
          </mat-form-field>

          <button type="button" mat-raised-button (click)="fileInput.click()">Agregar portada</button>
          <input hidden (change)="onFileSelected($event)" #fileInput type="file" id="file">
          <input hidden matInput type="text" formControlName="portada">

        </form>

        <div class="flex justify-content-between mt-5">
          <button
            *ngIf="currentProduct._id"
            (click) ="onDeleteProduct()"
            mat-flat-button
            color="warn"
          >
            Borrar
          </button>
          <span></span>

          <button
            mat-flat-button
            color="primary"
            (click)="onSubmit()"
          >
            <mat-icon>save</mat-icon>
            Guardar
          </button>
        </div>

      </mat-card-content>
    </mat-card>
  </div>

  <div class="col-12 sm:col-6">

    <mat-card>
      <!-- <img [src]="currentProduct | productImage" alt="imagen del héroe" mat-card-image> -->
      <img [src]="currentProduct.portada != null ? currentProduct.portada : 'assets/images/no-image.png'" alt="imagen del héroe" mat-card-image>
    </mat-card>

  </div>
</div>



